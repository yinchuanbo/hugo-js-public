<!DOCTYPE html>






























<html
  class="not-ready text-sm lg:text-base"
  style="--bg: "
  lang="en"
>
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  
  <title>操作字符串 - 灏天阁</title>

  
  <meta name="theme-color" />
  
  <meta name="description" content="字符串操作基础 定义字符串 1. 字符串直接量
使用双引号或单引号包含任意长度的文本。
var s = &#34;true&#34;; // 把布尔值转换为字符串 var s = &#34;123&#34;; // 把数值转换为字符串 var s = &#34;[1,2,3]&#34;; // 把数值转换为字符串 var s = &#34;{x:1, y:2}&#34;; // 把对象转换为字符串 var s = &#34;console.log(&#39;Hello, World&#39;)&#34;; // 把可表达式转换为字符串 对于字符串化脚本，可以调用全局方法 eval() 执行字符代码
var s = &#34;console.log(&#39;Hello, World&#39;)&#34;; eval(s); 2. 构造字符串
使用 String() 类型函数可以构造字符串，该函数可以接收一个参数，并把它作为值来初始化字符串。
var s = new String(); // 创建一个空字符串对象，引用类型，并赋值给变量 s var s = new String(&#34;我是构造字符串&#34;); // 创建字符串对象，初始化之后赋值给变量 s 下面比较构造字符串和字符串直接量的数据类型值的不同：
var s1 = new String(1); // 构造字符串 var s2 = &#34;1&#34;; console." />
  <meta name="author" content="" />
  

  
  
  
  
  
  
  <link rel="preload stylesheet" as="style" href="/main.min.css" />

  

  
  
  
    
  
  <link
    rel="preload"
    as="image"
    href="/theme.png"
  />

  
  
  
  <link rel="preload" as="image" href="/imgs/logo.png" />
  
  

  

  
  <link rel="icon" href="/img/ico.ico" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  
  <meta name="generator" content="Hugo 0.108.0">

  
  

  
  
  
  
  
  
  
  
  
  <meta property="og:title" content="操作字符串" />
<meta property="og:description" content="字符串操作基础 定义字符串 1. 字符串直接量
使用双引号或单引号包含任意长度的文本。
var s = &#34;true&#34;; // 把布尔值转换为字符串 var s = &#34;123&#34;; // 把数值转换为字符串 var s = &#34;[1,2,3]&#34;; // 把数值转换为字符串 var s = &#34;{x:1, y:2}&#34;; // 把对象转换为字符串 var s = &#34;console.log(&#39;Hello, World&#39;)&#34;; // 把可表达式转换为字符串 对于字符串化脚本，可以调用全局方法 eval() 执行字符代码
var s = &#34;console.log(&#39;Hello, World&#39;)&#34;; eval(s); 2. 构造字符串
使用 String() 类型函数可以构造字符串，该函数可以接收一个参数，并把它作为值来初始化字符串。
var s = new String(); // 创建一个空字符串对象，引用类型，并赋值给变量 s var s = new String(&#34;我是构造字符串&#34;); // 创建字符串对象，初始化之后赋值给变量 s 下面比较构造字符串和字符串直接量的数据类型值的不同：
var s1 = new String(1); // 构造字符串 var s2 = &#34;1&#34;; console." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/125/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-03-03T21:31:33+08:00" />
<meta property="article:modified_time" content="2024-03-03T21:31:33+08:00" />

  
  <meta itemprop="name" content="操作字符串">
<meta itemprop="description" content="字符串操作基础 定义字符串 1. 字符串直接量
使用双引号或单引号包含任意长度的文本。
var s = &#34;true&#34;; // 把布尔值转换为字符串 var s = &#34;123&#34;; // 把数值转换为字符串 var s = &#34;[1,2,3]&#34;; // 把数值转换为字符串 var s = &#34;{x:1, y:2}&#34;; // 把对象转换为字符串 var s = &#34;console.log(&#39;Hello, World&#39;)&#34;; // 把可表达式转换为字符串 对于字符串化脚本，可以调用全局方法 eval() 执行字符代码
var s = &#34;console.log(&#39;Hello, World&#39;)&#34;; eval(s); 2. 构造字符串
使用 String() 类型函数可以构造字符串，该函数可以接收一个参数，并把它作为值来初始化字符串。
var s = new String(); // 创建一个空字符串对象，引用类型，并赋值给变量 s var s = new String(&#34;我是构造字符串&#34;); // 创建字符串对象，初始化之后赋值给变量 s 下面比较构造字符串和字符串直接量的数据类型值的不同：
var s1 = new String(1); // 构造字符串 var s2 = &#34;1&#34;; console."><meta itemprop="datePublished" content="2024-03-03T21:31:33+08:00" />
<meta itemprop="dateModified" content="2024-03-03T21:31:33+08:00" />
<meta itemprop="wordCount" content="581">
<meta itemprop="keywords" content="" />
  
  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="操作字符串"/>
<meta name="twitter:description" content="字符串操作基础 定义字符串 1. 字符串直接量
使用双引号或单引号包含任意长度的文本。
var s = &#34;true&#34;; // 把布尔值转换为字符串 var s = &#34;123&#34;; // 把数值转换为字符串 var s = &#34;[1,2,3]&#34;; // 把数值转换为字符串 var s = &#34;{x:1, y:2}&#34;; // 把对象转换为字符串 var s = &#34;console.log(&#39;Hello, World&#39;)&#34;; // 把可表达式转换为字符串 对于字符串化脚本，可以调用全局方法 eval() 执行字符代码
var s = &#34;console.log(&#39;Hello, World&#39;)&#34;; eval(s); 2. 构造字符串
使用 String() 类型函数可以构造字符串，该函数可以接收一个参数，并把它作为值来初始化字符串。
var s = new String(); // 创建一个空字符串对象，引用类型，并赋值给变量 s var s = new String(&#34;我是构造字符串&#34;); // 创建字符串对象，初始化之后赋值给变量 s 下面比较构造字符串和字符串直接量的数据类型值的不同：
var s1 = new String(1); // 构造字符串 var s2 = &#34;1&#34;; console."/>

  
  
</head>

  <body class="text-black duration-200 ease-out dark:text-white">
    
    

    
    <main
      class="prose prose-neutral relative mx-auto min-h-[calc(100%-10rem)] max-w-3xl px-8 pt-20 dark:prose-invert"
      id="main"
    >
      

<article>
  <header class="mb-10">
    <h1 class="!my-0 pb-2.5">操作字符串</h1>

    
    <div class="text-sm opacity-60">
      
      <time>Mar 3, 2024</time>
      
      
      <span class="mx-1">&middot;</span>
      <span>Yin灏</span>
    </div>
    
  </header>

  <section><h2 id="字符串操作基础">字符串操作基础</h2>
<h3 id="定义字符串">定义字符串</h3>
<p><strong>1. 字符串直接量</strong></p>
<p>使用双引号或单引号包含任意长度的文本。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;true&#34;</span>; <span style="color:#75715e">// 把布尔值转换为字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;123&#34;</span>; <span style="color:#75715e">// 把数值转换为字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;[1,2,3]&#34;</span>; <span style="color:#75715e">// 把数值转换为字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;{x:1, y:2}&#34;</span>; <span style="color:#75715e">// 把对象转换为字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;console.log(&#39;Hello, World&#39;)&#34;</span>; <span style="color:#75715e">// 把可表达式转换为字符串
</span></span></span></code></pre></div><p>对于字符串化脚本，可以调用全局方法 <code>eval()</code> 执行字符代码</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;console.log(&#39;Hello, World&#39;)&#34;</span>;
</span></span><span style="display:flex;"><span>eval(<span style="color:#a6e22e">s</span>);
</span></span></code></pre></div><p><strong>2. 构造字符串</strong></p>
<p>使用 <code>String()</code> 类型函数可以构造字符串，该函数可以接收一个参数，并把它作为值来初始化字符串。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String(); <span style="color:#75715e">// 创建一个空字符串对象，引用类型，并赋值给变量 s
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String(<span style="color:#e6db74">&#34;我是构造字符串&#34;</span>); <span style="color:#75715e">// 创建字符串对象，初始化之后赋值给变量 s
</span></span></span></code></pre></div><p>下面比较构造字符串和字符串直接量的数据类型值的不同：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s1</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String(<span style="color:#ae81ff">1</span>); <span style="color:#75715e">// 构造字符串
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s2</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;1&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">s1</span>); <span style="color:#75715e">// &#34;object&#34;，说明是引用类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">s2</span>); <span style="color:#75715e">// &#34;string&#34;，说明是值类型字符串
</span></span></span></code></pre></div><p><code>String()</code> 也可以作为普通函数使用，把参数转换为字符串类型的值返回：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> String(<span style="color:#ae81ff">123456</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">s</span>); <span style="color:#75715e">// 返回字符串 &#34;123456&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">s</span>); <span style="color:#75715e">// &#34;string&#34;
</span></span></span></code></pre></div><p><code>String()</code> 允许传入多个参数，但是仅处理第一个参数，并把它转换为字符串返回：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> String(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">s</span>); <span style="color:#75715e">// &#34;1&#34;
</span></span></span></code></pre></div><p>下面变量 n 在构造函数内经过多次计算之后，最后值递增为 5：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String(<span style="color:#f92672">++</span><span style="color:#a6e22e">n</span>, <span style="color:#f92672">++</span><span style="color:#a6e22e">n</span>, <span style="color:#f92672">++</span><span style="color:#a6e22e">n</span>, <span style="color:#f92672">++</span><span style="color:#a6e22e">n</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">s</span>); <span style="color:#75715e">// String {&#39;2&#39;}
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">n</span>); <span style="color:#75715e">// 5
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">s</span>); <span style="color:#75715e">// &#34;object&#34;，说明是引用型对象
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">n</span>); <span style="color:#75715e">// &#34;number&#34;，说明是值类型
</span></span></span></code></pre></div><p><strong>3. 使用字符编码</strong></p>
<p>使用 <code>fromCharCode()</code> 方法可以把字符串编码转化为字符串。</p>
<p>该方法可以包含多个整数参数，每个参数代表字符串的 Unicode 编码，返回值为字符编码的字符串表示。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> [<span style="color:#ae81ff">35835</span>, <span style="color:#ae81ff">32773</span>, <span style="color:#ae81ff">24744</span>, <span style="color:#ae81ff">22909</span>],
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">a</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">push</span>(String.<span style="color:#a6e22e">fromCharCode</span>(<span style="color:#a6e22e">a</span>[<span style="color:#a6e22e">i</span>]));
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">b</span>.<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#34;&#34;</span>)); <span style="color:#75715e">// &#34;读者您好&#34;
</span></span></span></code></pre></div><p>可以把所有字符串按顺序传给 fromCharCode()</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> String.<span style="color:#a6e22e">fromCharCode</span>(<span style="color:#ae81ff">35835</span>, <span style="color:#ae81ff">32773</span>, <span style="color:#ae81ff">24744</span>, <span style="color:#ae81ff">22909</span>); <span style="color:#75715e">// 传递多个参数
</span></span></span></code></pre></div><p>也可以使用 apply() 方法动态调用 fromCharCode() 方法</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> [<span style="color:#ae81ff">35835</span>, <span style="color:#ae81ff">32773</span>, <span style="color:#ae81ff">24744</span>, <span style="color:#ae81ff">22909</span>];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> String.<span style="color:#a6e22e">fromCharCode</span>.<span style="color:#a6e22e">apply</span>(<span style="color:#66d9ef">null</span>, <span style="color:#a6e22e">a</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">b</span>);
</span></span></code></pre></div><h3 id="字符串的值和长度">字符串的值和长度</h3>
<p><strong>1. 字符串的值</strong></p>
<p>使用字符串的 toString() 方法可以返回字符串的字符表示，使用 valueOf() 方法可以返回字符串的值。</p>
<p>两个方法的返回值始终相同，所以一般不直接调用这两个方法。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;JavaScript&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">toString</span>(); <span style="color:#75715e">// 返回 &#34;JavaScript&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">valueOf</span>(); <span style="color:#75715e">// 返回 &#34;JavaScript&#34;
</span></span></span></code></pre></div><p>可以重写 toString() 和 valueOf() 方法，以便个性化显示字符串。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// 重写 toString() 和 ValueOf() 方法，参数 color 表示显示颜色
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>String.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">toString</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">color</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">color</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">color</span> <span style="color:#f92672">||</span> <span style="color:#e6db74">&#34;red&#34;</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#e6db74">`&lt;span style=&#34;color: </span><span style="color:#e6db74">${</span><span style="color:#a6e22e">color</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;&gt;</span><span style="color:#e6db74">${</span><span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">valueOf</span>()<span style="color:#e6db74">}</span><span style="color:#e6db74">&lt;/span&gt;`</span>;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>document.<span style="color:#a6e22e">write</span>(<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">toString</span>()); <span style="color:#75715e">// 显示红色字符串 &#34;JavaScript&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>document.<span style="color:#a6e22e">write</span>(<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">toString</span>(<span style="color:#e6db74">&#34;blue&#34;</span>)); <span style="color:#75715e">// 显示蓝色字符串 &#34;JavaScript&#34;
</span></span></span></code></pre></div><p><strong>2. 字符串的长度</strong></p>
<p>使用字符串的 length 属性可以读取字符串的长度，长度以字符为单位，该属性为只读属性。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;String 类型长度&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">length</span>); <span style="color:#75715e">// 10
</span></span></span></code></pre></div><p>注意：</p>
<p>Js 支持的字符包括为单字节、双字节两种类型，为了精确计算字符串的字节长度，可以采用下面方法来计算。</p>
<p>为 String 扩展原型方法 byteLength()，该方法将枚举每个字符，并根据字符编码，判断当前字符是单字节还是双字节，然后统计字符串的字节长度。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>String.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">byteLength</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">l</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">length</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">l</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">l</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">charCodeAt</span>(<span style="color:#a6e22e">i</span>) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">255</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 字符编码大于 255，说明是双字节字符
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">b</span> <span style="color:#f92672">+=</span> <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>      } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">b</span><span style="color:#f92672">++</span>; <span style="color:#75715e">// 单字节
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">b</span>;
</span></span><span style="display:flex;"><span>  } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 使用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;String类型长度&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">byteLength</span>()); <span style="color:#75715e">// 14
</span></span></span></code></pre></div><h3 id="字符串连接">字符串连接</h3>
<p><strong>1. 使用加号运算符</strong></p>
<p>连接字符串最简便的方法时使用加号运算符</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s1</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;abc&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">s2</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;def&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">s1</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">s2</span>); <span style="color:#75715e">// &#34;abcdef&#34;
</span></span></span></code></pre></div><p><strong>2. 使用 concat() 方法</strong></p>
<p>使用字符串的 concat() 方法可以把多个参数添加到指定字符串的尾部。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s1</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;abc&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">s1</span>.<span style="color:#a6e22e">concat</span>(<span style="color:#e6db74">&#34;d&#34;</span>, <span style="color:#e6db74">&#34;e&#34;</span>, <span style="color:#e6db74">&#34;f&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">s2</span>); <span style="color:#75715e">// &#34;abcdef&#34;
</span></span></span></code></pre></div><p>concat() 不会修改原始字符串的值，与数组的 concat() 方法操作类似。</p>
<p><strong>3. 使用 join() 方法</strong></p>
<p>在特定的操作环境中，也可以借助数组的 join() 方法来连接字符串，如 HTML 字符串输出等。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;JavaScript&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">1000</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">push</span>(<span style="color:#a6e22e">s</span>);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">str</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">join</span>(<span style="color:#e6db74">&#34;&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>document.<span style="color:#a6e22e">write</span>(<span style="color:#a6e22e">str</span>);
</span></span></code></pre></div><h3 id="字符串查找">字符串查找</h3>
<ol>
<li>
<p>charAt(): 返回字符串中的第 n 个字符</p>
</li>
<li>
<p>charCodeAt(): 返回字符串中的第 n 个字符的代码</p>
</li>
<li>
<p>indexOf(): 检索字符串</p>
</li>
<li>
<p>lastIndexOf(): 从后向前检索一个字符串</p>
</li>
<li>
<p>match(): 找到一个或多个正则表达式的匹配</p>
</li>
<li>
<p>search(): 检索与正则表达式相匹配的子串</p>
</li>
</ol>
<p><strong>1. 查找字符串</strong></p>
<p>使用字符串的 charAt() 和 charCodeAt() 方法，可以根据参数返回指定位置的字符或字符编码。</p>
<p>下面示例为 String 类型扩展一个原型方法，用来把字符串转换为数组，</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span>String.<span style="color:#a6e22e">prototype</span>.<span style="color:#a6e22e">toArray</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> () {
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">l</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">length</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">a</span> <span style="color:#f92672">=</span> [];
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">l</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">l</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">a</span>.<span style="color:#a6e22e">push</span>(<span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">charAt</span>(<span style="color:#a6e22e">i</span>));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span>; <span style="color:#75715e">// 返回数组
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>};
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 使用
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;abcdefghijklmn&#34;</span>.<span style="color:#a6e22e">toArray</span>();
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">a</span>) {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">s</span>[<span style="color:#a6e22e">i</span>]);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>2. 查找字符串</strong></p>
<p>使用字符串的 indexOf() 和 lastIndexOf() 方法，可以根据参数字符串，返回指定子字符串的下标位置，</p>
<ul>
<li>
<p>第一个参数为一个子字符串，指定要查找的目标</p>
</li>
<li>
<p>第二个参数为一个整数，指定查找的起始位置，取值范围为 0 ~ length - 1</p>
</li>
</ul>
<p>对于第二个参数来说，需要注意以下几种特殊情况：</p>
<ul>
<li>
<p>如果是负值，则视为 0，相当于从第一个字符开始查找</p>
</li>
<li>
<p>如果省略了这个参数，也将从字符串的第一个字符开始查找</p>
</li>
<li>
<p>如果值大于等于 length 属性值，则视为当前字符串中没有指定的子字符串，返回 -1</p>
</li>
</ul>
<p>下面代码查找首个字母 a 的下标位置：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;JavaScript&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#e6db74">&#34;a&#34;</span>);
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">i</span>); <span style="color:#75715e">// 1
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// indexOf() 只返回查找到的第一个字符串的起始下标位置
</span></span></span></code></pre></div><p>下面代码分别查询 URL 字符串中两个点号字符的下标位置</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;http://www.mysite.cn/&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">b</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#e6db74">&#34;.&#34;</span>); <span style="color:#75715e">// 返回 10
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">e</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">indexOf</span>(<span style="color:#e6db74">&#34;.&#34;</span>, <span style="color:#a6e22e">b</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>); <span style="color:#75715e">// 返回 17
</span></span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">s</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;http://www.mysite.cn/index.html&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">n</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">s</span>.<span style="color:#a6e22e">lastIndexOf</span>(<span style="color:#e6db74">&#34;.&#34;</span>); <span style="color:#75715e">// 26
</span></span></span></code></pre></div><p>[&hellip; 未完待续 99 &hellip;]</p>
</section>

  
  

  
  
  
  <nav class="mt-24 flex rounded-lg bg-black/[3%] text-lg dark:bg-white/[8%]">
    
    
    <a
      class="ml-auto flex w-1/2 items-center justify-end p-6 pl-3 no-underline"
      href="/posts/124/"
      ><span>SCSS</span><span class="ml-1.5">→</span></a
    >
    
  </nav>
  

  
  
</article>


    </main>

    <footer
  class="opaco mx-auto flex h-[5rem] max-w-3xl items-center px-8 text-[0.9em] opacity-60"
  style="position: relative; z-index: 10;display: none;"
>
  <div class="mr-auto">
    &copy; 2024
    <a class="link" href="/">灏天阁</a>
  </div>
  <a class="link" href="https://yinchuanbo.github.io/" rel="noopener" target="_blank"
    >Powered by YinHao</a
  >️ ▷
</footer>


    <div class="img__mask" style="display: none;">
      <img src="" alt="">
      <span class="close_btn"></span>
    </div>

    <script>
      const imgs = document.images;
      const imgMask = document.querySelector('.img__mask')
      const closeBtn = document.querySelector('.close_btn')
      for (let i = 0; i < imgs.length; i++) {
        const element = imgs[i];
        element.onclick = () => {
          const src = element.src;
          imgMask.style.display = 'flex';
          imgMask.querySelector('img').src = src;
        }
      }
      closeBtn.onclick = () => {
        imgMask.style.display = 'none';
      }
    </script>
  </body>
</html>
